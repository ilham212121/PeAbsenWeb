{% extends "dashboard/base.html" %}
{% block content %}
<main>
    <div class="container-fluid px-4">
        <h1 class="mt-4">Laporan Absensi</h1>
        <ol class="breadcrumb mb-4">
            <li class="breadcrumb-item" ><a  href="/dashboard">Dashboard</a></li>
            <li class="breadcrumb-item active">Sidenav Light</li>
        </ol>
        <div class="card mb-4">
        <div class="card-header" style="background-color: #E6B794;">
            <i class="fas fa-table me-1"></i>
            Data Absensi
        </div>
        <div class="card-body">
            <div class="dataTable-top">
                <div class="dataTable-dropdown"><label><select id="ruangan" onclick="RUANGAN()" class="dataTable-selector">
                    <option value="melati">Melati</option>
                    <option value="dahlia" selected="">Dahlia</option>
                    <option value="anggrek">Anggrek</option>
                    <option value="bougenvile">Bougenvile</option>
                    <option value="mawar">Mawar</option>
                </select> pilih ruangan</label>
                </div><div></div>
            </div>

                    {% for row in dataabsen %}
                    {% if row.2=='melati'%}
                    <div id="melati"class="dataTable-container" style="display:none">
                        <table id="datatablesSimple"  class="dataTable-table">  
                        <thead>
                            <tr>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">NIP</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Nama</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Ruangan</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Lokasi</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Foto</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Waktu</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Status</a></th>
                             </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>{{ row.0 }}</td>
                            <td>{{ row.1 }}</td>
                            <td>{{ row.2 }}</td>
                            <td>{{ row.3 }}</td>
                            <td><img src="../../static/upload/{{ row.4 }}"width="100px" height="100px"></td>
                            <td>{{ row.5 }}</td>
                            {% if row.6=='tidak telat'%}
                            <td>{{ row.6 }}</td>
                            {% endif %}
                            {% if row.6=='telat'%}
                            <td style="background-color: red;">{{ row.6 }}</td>
                            {% endif %}
                        </tr>
                    </tbody>
                    </table>
                    </div>
                    {% endif %}
                    {% if row.2=='dahlia'%}
                    <div id="dahlia" class="dataTable-container" style="display:none">
                        <table id="datatablesSimple" class="dataTable-table">  
                        <thead>
                            <tr>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">NIP</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Nama</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Ruangan</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Lokasi</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Foto</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Waktu</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Status</a></th>
                            </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>{{ row.0 }}</td>
                            <td>{{ row.1 }}</td>
                            <td>{{ row.2 }}</td>
                            <td>{{ row.3 }}</td>
                            <td><img src="../../static/upload/{{ row.4 }}"width="100px" height="100px"></td>
                            <td>{{ row.5 }}</td>
                            {% if row.6=='tidak telat'%}
                            <td>{{ row.6 }}</td>
                            {% endif %}
                            {% if row.6=='telat'%}
                            <td style="background-color: red;">{{ row.6 }}</td>
                            {% endif %}
                        </tr>
                    </tbody>
                    </table>
                    </div>
                    {% endif %}
                    
                    {% if row.2=='anggrek'%}
                    <div id="anggrek" style="display:none"class="dataTable-container">
                        <table id="datatablesSimple"class="dataTable-table">  
                        <thead>
                            <tr>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">NIP</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Nama</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Ruangan</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Lokasi</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Foto</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Waktu</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Status</a></th>
                            </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>{{ row.0 }}</td>
                            <td>{{ row.1 }}</td>
                            <td>{{ row.2 }}</td>
                            <td>{{ row.3 }}</td>
                            <td><img src="../../static/upload/{{ row.4 }}"width="100px" height="100px"></td>
                            <td>{{ row.5 }}</td>
                            {% if row.6=='tidak telat'%}
                            <td>{{ row.6 }}</td>
                            {% endif %}
                            {% if row.6=='telat'%}
                            <td style="background-color: red;">{{ row.6 }}</td>
                            {% endif %}
                        </tr>
                    </tbody>
                    </table>
                    </div>
                    {% endif %}
                    
                    {% if row.2=='bougenvile'%}
                    <div id="bougenvile" class="dataTable-container"style="display:none">
                    <table id="datatablesSimple"class="dataTable-table">  
                    <thead>
                        <tr>
                            <th data-sortable=""><a href="#" class="dataTable-sorter">NIP</a></th>
                            <th data-sortable=""><a href="#" class="dataTable-sorter">Nama</a></th>
                            <th data-sortable=""><a href="#" class="dataTable-sorter">Ruangan</a></th>
                            <th data-sortable=""><a href="#" class="dataTable-sorter">Lokasi</a></th>
                            <th data-sortable=""><a href="#" class="dataTable-sorter">Foto</a></th>
                            <th data-sortable=""><a href="#" class="dataTable-sorter">Waktu</a></th>
                            <th data-sortable=""><a href="#" class="dataTable-sorter">Status</a></th>
                        </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>{{ row.0 }}</td>
                        <td>{{ row.1 }}</td>
                        <td>{{ row.2 }}</td>
                        <td>{{ row.3 }}</td>
                        <td><img src="../../static/upload/{{ row.4 }}"width="100px" height="100px"></td>
                        <td>{{ row.5 }}</td>
                        {% if row.6=='tidak telat'%}
                        <td>{{ row.6 }}</td>
                        {% endif %}
                        {% if row.6=='telat'%}
                        <td style="background-color: red;">{{ row.6 }}</td>
                        {% endif %}
                    </tr>

                </tbody>
                </table>
                </div>
                    {% endif %}
                    
                    {% if row.2=='mawar'%}
                    <div id="mawar" class="dataTable-container" style="display:none">
                        <table id="datatablesSimple"class="dataTable-table">  
                        <thead>
                            <tr>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">NIP</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Nama</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Ruangan</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Lokasi</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Foto</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Waktu</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Status</a></th>
                            </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>{{ row.0 }}</td>
                            <td>{{ row.1 }}</td>
                            <td>{{ row.2 }}</td>
                            <td>{{ row.3 }}</td>
                            <td><img src="../../static/upload/{{ row.4 }}"width="100px" height="100px"></td>
                            <td>{{ row.5 }}</td>
                            {% if row.6=='tidak telat'%}
                            <td>{{ row.6 }}</td>
                            {% endif %}
                            {% if row.6=='telat'%}
                            <td style="background-color: red;">{{ row.6 }}</td>
                            {% endif %}
                        </tr>
                    </tbody>
                    </table>
                    </div>
                    {% endif %}
                    {% else %}
                    <div class="dataTable-container" id="kosong" style="display:none;">
                    <table id="datatablesSimple"class="dataTable-table">  
                        <thead>
                            <tr>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">NIP</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Nama</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Ruangan</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Lokasi</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Foto</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Waktu</a></th>
                                <th data-sortable=""><a href="#" class="dataTable-sorter">Status</a></th>
                            </tr>
                        </thead>
                        <tbody>
                    <tr>
                        <td colspan="2">Tidak Ada Data. Silahkan Pilih ruangan lain</td>
                    </tr>
                    </tbody>
                    </table>
                    {% endfor %}
        
        </div>
    </div>
    </div>
</main>
<script>
function RUANGAN(){

    let combo=document.getElementById("ruangan").value;
    var melati=document.getElementById("melati");
    var dahlia=document.getElementById("dahlia");
    var anggrek=document.getElementById("anggrek");
    var bugenvile=document.getElementById("bougenvile");
    var mawar=document.getElementById("mawar");
    var kosong=document.getElementById("kosong");
    
    if (combo =="melati"){
        melati.style.display="block"
        dahlia.style.display="none"
        anggrek.style.display="none"
        bugenvile.style.display="none"
        mawar.style.display="none"
    }
    else if (combo =="dahlia"){
        melati.style.display="none"
        dahlia.style.display="block"
        anggrek.style.display="none"
        bugenvile.style.display="none"
        mawar.style.display="none"
    }
    else if (combo =="anggrek"){
        melati.style.display="none"
        dahlia.style.display="none"
        anggrek.style.display="block"
        bugenvile.style.display="none"
        mawar.style.display="none"
    }

    else if (combo =="bougenvile"){

        melati.style.display="none"
        dahlia.style.display="none"
        anggrek.style.display="none"
        bugenvile.style.display="block"
        mawar.style.display="none"
    }else if (combo =="mawar"){
        melati.style.display="none"
        dahlia.style.display="none"
        anggrek.style.display="none"
        bugenvile.style.display="none"
        mawar.style.display="block"
    }else{
        dahlia.style.display="none"
        anggrek.style.display="none"
        bugenvile.style.display="none"
        mawar.style.display="none" 
        kosong.style.display="block" 
    }
  }
</script>

{% endblock %}
